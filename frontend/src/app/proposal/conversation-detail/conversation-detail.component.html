<div class="pt-4 px-4 pb-2 mt-4 mx-4">
  <div class="d-flex justify-content-between justify-content-center">
    <button (click)="return()" class="btn btn-sm btn-light align-items-center">
      <mat-icon class="fs-6 d-flex justify-content-center align-items-center">chevron_left</mat-icon>
    </button>
    <div class="d-flex gap-2 justify-content-end me-2">
      <button class="btn btn-sm btn-light d-flex justify-content-center align-items-center gap-2 px-3"
        (click)="onMarkAsUnreadClick()">
        <mat-icon>markunread_mailbox</mat-icon> Als ongelezen markeren</button>
      <button class="btn btn-sm btn-light d-flex justify-content-center align-items-center gap-2 px-3"
        *ngIf="!showReply; else elseBlock" (click)="onReplyClick()">
        <mat-icon>send</mat-icon> Antwoorden</button>
      <ng-template #elseBlock>
        <button class="btn btn-sm btn-light d-flex justify-content-center align-items-center gap-2 px-3"
          (click)="onReplyClick()">
          <mat-icon>send</mat-icon> Verzenden</button>
      </ng-template>
    </div>
  </div>
  <hr class="me-2">

  <div class="d-flex" [ngClass]="!showReply ? 'flex-column' : 'flex-row'">
    <div [ngClass]="showReply ? 'w-50' : 'w-100'" class="scroll">
      <div *ngFor="let mail of emails">
        <div class="d-flex flex-column gap-1">
          <div class="d-flex justify-content-between me-4">
            <div class="d-flex flex-column">
              <span><strong>van</strong> {{ mail.from }},</span><span><strong> naar</strong> {{ mail.to }} </span>
            </div>
            <strong>{{ mail.timeStamp | date : "dd/MM/yyyy HH:mm:ss" }}</strong>
          </div>
          <div class="my-3">
            <p [innerHtml]="mail.content"></p>
            <mat-divider class="my-4"></mat-divider>
          </div>
        </div>
      </div>
    </div>
    <div class="flex-1 w-50 mx-4" *ngIf="showReply">
      <mat-form-field class="w-100">
        <mat-label>Vul hier uw antwoordemail in.</mat-label>
        <textarea matInput type="text" [formControl]="replyText"></textarea>
      </mat-form-field>
    </div>
  </div>
</div>